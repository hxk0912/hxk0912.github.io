---
title: 指令系统
date: 2020-03-10 08:33:19
categories: 微机原理与接口技术
tags:
---

## 基本概念

* 指令
  + 计算机要执行的各种操作命令
  + 一条指令对应着一种基本操作
* 指令系统
  + 对特定的计算机而言，其所有指令的集合
  + 每种计算机都有其特定的指令系统

* 复杂指令集计算机CISC

Complex instruction set computer
指每个操作都有对应的指令，8086/8088系列就是复杂指令集。

* 精简指令集计算机RISC

Reduced instruction set computer
只有最常用的操作指令，其他不常用操作指令用这些常用指令来表示。

## 指令的基本格式

* 操作码(operation code)
  + 规定指令要执行的操作, 不可缺少。
* 操作数(operand)
  + 指出执行指令所需要操作数的来源：
    - 操作数本身
    - 操作数地址 或 操作数地址的计算方法
* 多数情况可以有1或多个操作数
  + 单操作数
  + 双操作数：源操作数、目的操作数
  + 隐含操作数

## 寻址

* 寻址
  + 寻找操作数的过程
* 操作数在哪些地方呢？
  + 直接在指令中
  + 在CPU的某个寄存器中
  + 在内存中
  + 在I/O端口或外部设备中
* 寻址方式
  + 产生地址的各种方法
  + 对于双操作数指令而言, 源和目的操作数有可能不同。

### 寻址方式

#### 立即寻址

指令所需操作数就在指令中, 紧跟在操作码之后, 与操作码一起放在代码段。

#### 寄存器寻址

操作数存放在CPU的内部寄存器中, 在指令中直接给出寄存器名。

#### 存储器寻址方式

操作数在主存储器中, 指令需要给出操作数的地址信息。

#### 直接寻址

操作数在存储单元中, 指令中操作数字段给出的是操作数的16位偏移地址EA。
默认的段基地址在DS段寄存器, 可使用段超越前缀改变。
用中括号包含有效地址, 表达存储单元的内容。

`MOV AX, [2000H]	；AX←DS:[2000H]`
`MOV AX, ES: [2000H]	；AX←ES:[2000H]`

在汇编语言中, 经常用符号地址来代替数值地址。
举例  `MOV AX, STRING`
其中STRING为存储单元的符号地址
如果STRING代表的数值地址是2000H, 则该指令等同于`MOV AX, [2000H]`

#### 寄存器间接寻址

操作数在主存储器中,  操作数的有效地址EA由BX、BP、SI、DI中的一个指出。

* 对于BX、SI、DI, 默认的段基地址在DS段寄存器, 可使用段超越前缀改变。
* 对于BP, 默认的段基地址在SS段寄存器, 可使用段超越前缀改变。

`MOV AX, [BX]	；AX←DS:[BX]`

#### 寄存器相对寻址

操作数在主存储器中, 操作数的有效地址：
EA = BX/BP/SI/DI + 8/16位偏移量

* 对于BX、SI、DI, 默认的段基地址在DS段寄存器, 可使用段超越前缀改变。
* 对于BP, 默认的段基地址在SS段寄存器, 可使用段超越前缀改变。

`MOV AX, [SI+06H]	；AX←DS:[SI+06H]`

寄存器相对寻址可以表示成几种不同的形式。

`MOV AX, BUFFER[BP]`\
`MOV AX,[BP]BUFFER`\
`MOV AX,[BP+BUFFER]`\
`MOV AX,[BUFFER+BP]`

#### 基址加变址

操作数在主存储器中, 操作数的有效地址：
EA = BX/BP + SI/DI

* 对于BX, 默认的段基地址在DS段寄存器, 可使用段超越前缀改变。
* 对于BP, 默认的段基地址在SS段寄存器, 可使用段超越前缀改变

`MOV AX, [BX+SI]	；AX←DS:[BX+SI]`

#### 相对基址加变址

操作数在主存储器中, 操作数的有效地址：
EA = BX/BP + SI/DI + 8/16位偏移量

* 对于BX, 默认的段基地址在DS段寄存器, 可使用段超越前缀改变。
* 对于BP, 默认的段基地址在SS段寄存器, 可使用段超越前缀改变。

`MOV AX, 10H[BP][SI]	; AX←SS:[BP+SI+10H]`

#### 隐含寻址

指令的部分或全部操作数被隐含, 没有直接出现在指令助记符中。
操作对象一般是固定的。
