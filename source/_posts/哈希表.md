---
title: 哈希表
date: 2019-10-17 19:30:13
categories: 数据结构
tags:
---

## 什么是哈希表？

在理想的情况下，我们希望不经过任何比较，一次存取便能取得所查记录，那么就必须在记录的存储位置和他的关键字之间建立一个对应的关系f，这个对应关系叫做哈希函数，建立的表叫做哈希表。

*f（关键字）=记录的存储位置*

## 冲突

因为对不同的关键字可能得到同一哈希地址，这种现象叫做冲突。

*哈希函数如果选取的合理确实可以减少冲突，但是一般来说冲突只能尽可能地减少，而不能避免。*

因为冲突不可避免，所以哈希表需要解决冲突的方法。

## 哈希表的常见构造方法

1. 直接定制法
直接用线性函数构造，如H（key）= a*key + b。
2. 数字分析法
每个关键字都是n位组成，分析后选取均匀分布的几位构成全体。
3. 平方取中法
如果关键字中的每一位都有某些数字充分出现频率很高，取平方扩大差异再选取。
4. 折叠法
如果数字位数很多，可以分割成几个部分取叠加和作为地址。
5. 除留取余法
H（key）= key mod p

## 哈西冲突的解决方法

1. **开放定址法**
H _i_ = (H(key)+d _i_)MOD  m
d _i_ 有三种选取方法：

- 线性探测：表长为m时一定能填满表。在某位置的前面位置都被填满了后，那么他被存到的概率变大很多，同时本来不该存到的也会存到这里，也就是说加剧了冲突。（二次聚集）
- 二次探测：表长为4i+3的素数才有可能填满。
- 随机探测：取决于伪随机数列 

2. **链地址法**
产生冲突后，在冲突元素后面加一个指针指向后面冲突的元素。
3. 公共溢出区法
建立特殊存储空间，存放冲突，用于冲突较少的情况。
4. 再哈希法
有冲突就使用第二个哈希函数，以此类推。

## 哈希表的查找

计算地址index = H（key）
查找地址等于key成功，为空失败，不等于就用冲突解决方法找下一个。

## 哈希表的删除

链地址法可以直接删除元素。
*开放定址法不能直接删除，不然下一个元素永远也不被找到。要填入永不可能取值，比如-1.*