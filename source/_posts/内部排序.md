---
title: 内部排序
date: 2019-10-29 19:33:00
categories: 数据结构
tags:
---

## 什么是内部排序

内部排序是指待排序记录放在计算机随机存储器中进行的排序过程。一般待排序记录不大，内存能够完全储存。

## 各类内部排序方法

### 插入排序

将第一个元素看作一个有序数列，然后从第二个开始，不断插入，插入条件就是小于下一个大于前一个。

#### 其他插入排序

1. 折半插入排序：利用折半查找再进行排序
2. 2-路插入排序，利用一个比较值，将序列分为大于比较值和小于比较值的两部分，可以减少比较次数。

### 希尔排序

基本思想：先将整个待排记录序列分割成为若干子序列分别进行直接插入排序，待整个序列中的记录“基本有序”的时候再对全体记录进行一次直接插入排序。
**子序列的构成不是简单地“逐段分割”，而是相隔某个“增量”的记录组成一个子序列。**
所以关键字不再是一步一步往前挪动，而是跳跃式往前移，所以可以做到基本有序。

*一般会选取 L/2<sup>n</sup> 作为“增量”*

### 冒泡排序

将相邻的两个记录的关键字进行比较，若为逆序，那么就交换，不断往下进行比较，知道所有记录都比较过为止。这时，最大的记录就移动到了末尾，然后从头再来，将第二大的元素移动到倒数第二位。直到进行了n趟冒泡排序，完成所有元素的排序。
**就好比每一次都有一个元素像一个石头一样“沉”到末尾**

### 快速排序

基本思想：通过一次排序，将待排记录分割成独立的两部分，其中的一部分均比另一部分记录的关键字小，再分别对两部分记录进行排序，不断递归，以达到整个序列有序。

方法：先在待排序记录中选择一个基准值，然后设立头尾指针指向第一个和最后一个元素，开始时尾指针向前移动，若该值大于基准值，指针继续移动，若该值小于基准值，将其与头指针对应记录交换。头指针向后移动，同理，头指针所指元素小于基准值向后移动，大于基准值将其与尾指针交换，尾指针前移不断重复这个过程，直到头尾节点同时指到基准值就完成了第一遍快速排序。

### 选择排序

#### 简单选择排序

首先从[2,n]这n-1个元素中选取最小值，与第一个元素比较交换，再从[3,n]选出最小与第二个比较交换。直到[n-1,n]也进行了比较为止。

#### 堆排序

就是根据堆的性质，不断输出最大（小）值，然后再次堆化。将输出值按照顺序排列起来就是堆排序的结果。

### 归并排序

归并排序也是利用分而治之的思想，通过递归来将化小，两两归并，四四归并一直到最后。
具体实现方法是：

1. 设定两个指针，最初位置分别为两个已经排序序列的起始位置
2. 比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置

直到最后归并结束，排序就完成了。

### 基数排序

基数排序又叫桶排序，将待排序列从低位开始排序，放入对应桶中，得到第一次子序列，再把这个子序列根据十位放入桶中，再得到子序列，以此循环，直至排完最高位，即得到最终的排序序列。

为什么要从最低位开始比较呢？因为如果从高位开始，那么可能会因为低位的比较结果改变高位的比较结果。比如345和271。而从低位开始比较的时候就像是将高位作为一个决定性条件，低位作为一个约束来判断，只有高位相同才会考虑低位，那么自然要提前先将低位排序等待高位判断结果来“破坏”低位排序后的结果。**所以排序的时候先从序列中进入桶子的一定也要先拿出来，这样才能不“破坏”低位排序结果。**

## 各类排序方法之间比较

排序类别|时间复杂度|稳定
-|-|-
插入排序|O(n<sup>2</sup>)|√
希尔排序|O(n<sup>1.25</sup>)|×
冒泡排序|O(n<sup>2</sup>)|√
选择排序|O(n<sup>2</sup>)|×
快速排序|O(Nlogn)|×
堆排序|O(Nlogn)|×
归并排序|O(Nlogn)|√
