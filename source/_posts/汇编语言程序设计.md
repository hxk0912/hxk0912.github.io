---
title: 汇编语言程序设计
date: 2020-04-01 15:01:24
categories: 微机原理与接口技术
tags:
---

## 汇编语言源程序格式

### 汇编源程序结构特点

- 汇编语言程序由若干个段组成。
    - 各段顺序任意，段的数目依据需要而定。
    - 类型有数据段、代码段、堆栈段、附加段。
- 段由若干语句组成,一条语句通常写成一行。
- 整个源程序以END为结尾。
- 需要独立运行的程序至少包含一个代码段, 并指明一个启动标号, 作为程序执行时的入口地址。

### 语句类型

#### 指令性语句

格式：`[标号:]  <指令助记符>  [操作数]  [;注释]`

- 可执行语句, 用于表达处理器指令, 汇编后对应一条指令机器码→目标代码

#### 指示性语句

格式：`[符号名]  <伪指令助记符>  [操作数]  [;注释]`

- 不可执行语句, 汇编时不产生目标代码。
- 又称伪指令, 用于指示汇编程序如何编译源程序。

### 指令与伪指令

- 指令(instruction)
    - 让CPU产生动作, 在程序执行时才处理。
    - 就是第3章学习的处理器指令, 与具体的处理器有关, 与汇编程序无关。

- 伪指令(directive)
  - 不产生CPU动作, 在程序执行前由汇编程序处理。
  - 与具体的处理器类型无关, 但与汇编程序有关。
  - 不同版本的汇编程序支持不同的伪指令。

- 助记符
  - 表达指令、伪指令的易于记忆的符号。
- 操作数
  - 必须以数字开头, 不能以字母开头。
    可选项。
  - 可以有多个, 之间用逗号分隔。

- 注释

  - 由分号“;”开头, 直到语句行的结尾。
  - 汇编程序对注释不会做任何处理, 但适当的注释可以增加源程序的可读性。

- 保留字(reserved word)

  - 汇编程序已经使用的标识符, 也称关键字。

  主要有：

  - 指令助记符, 如MOV
  - 伪指令助记符, 如DB
  - 操作符, 如OFFSET
  - 寄存器名, 如AX

- 分隔符

  - 语句的4个组成部分要用分隔符分开。
  - 标号后用冒号, 注释前用分号。
  - 操作数之间使用逗号分隔。
  - 其他部分通常采用空格或制表符。
  - 多个空格和制表符的作用与一个相同

### 数据与表达式

- 数据是操作数的基本组成部分。

- 汇编语言中的操作数主要有：
  - 寄存器
  - 存储单元
  - 常量
  - 变量
  - 标号
  - 表达式

### 常量

- 常量就是出现在汇编程序中的固定值。
  - 分类
  - 数字常量
  - 字符串常量

#### 数字常量

- 数字常量指由10、16和2进制形式表达的数值。
- 各种进制的数据以后缀字母区分, 默认不加后缀字母的是十进制数。
- **凡是以A~F开始的16进制数, 须在前面加上数字0！**

#### 字符串常量

- 字符串常量是用单引号或双引号括起来的单个字符或多个字符。
- 其数值是每个字符对应的ASCII码值。

### 变量

- 变量实质上是指内存单元的数据。


- 变量需要事先定义才能使用, 定义后的变量可利用变量名等方法引用其中的数据。
- 每个变量具有三种属性：
  - 段：变量所在段的段基地址。
  - 偏移量：变量的段内偏移量。
  - 类型：可以是BYTE、WORD、DWORD。

### 标号

- 标号是存储某条指令的存储单元的符号地址。
- 它是由标识符后面跟一个冒号来定义的。
- 通常用作转移指令的目标地址。
- 例如:
      START: MOV BX, 1234H
- 作为存储单元的符号地址, 具有三种属性
  - 段、偏移量, 和变量相同。
  - 类型：NEAR和FAR。