---
title: 编码器的原理及使用
date: 2019-10-20 15:47:31
categories: 智能小车
tags:
---

## 编码器原理

编码器通过光电（磁电）转换将输出轴上的机械几何位移量转换成脉冲或数字量。电动机旋转时，检测装置检测输出若干脉冲信号。*为判断转向，一般输出两组存在一定相位差的方波信号。*
检测A在某一跳变沿时B的电平就可以知道转向了，因为B与A有固定的相位差。

## 编码器的使用

### 编码器软件四倍频

一般我们是测量A相或是B相的一个上升沿或者是下降沿，而如果我们**测量AB相的所有上升沿和下降沿**，就可以在同样的时间内多计数四倍。

### 单片机采集编码器数据

转速计算方法：**捕获值/编码器线数（电机转一圈输出脉冲数）/电机减速比**

直接在cubeMX里配置定时器的编码器模式。利用硬件计数即可读出编码器的值。
